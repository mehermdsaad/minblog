<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>minblog</title>
  <link rel="stylesheet" href="css/index.css">
</head>
<body>

<div class="book" id="book">
  <div class="page"><p>afsdjjjjjjjjjjjjjjjjjjjjjjjjjjjhklkajsdfhkjasfhkashdfkjlsdahfkljasdbfouashunscnvkljabvilkjbaslkjfbdsalkjfsdnfkljdsahfdajskbasdfjkmasdfnljasdncakslcbasdlkasdbkdsj 1</p></div>
  <div class="page"><p>afsdjjjjjjjjjjjjjjjjjjjjjjjjjjjhklkajsdfhkjasfhkashdfkjlsdahfkljasdbfouashunscnvkljabvilkjbaslkjfbdsalkjfsdnfkljdsahfdajskbasdfjkmasdfnljasdncakslcbasdlkasdbkdsj 2</p></div>
  <div class="page"><p>afsdjjjjjjjjjjjjjjjjjjjjjjjjjjjhklkajsdfhkjasfhkashdfkjlsdahfkljasdbfouashunscnvkljabvilkjbaslkjfbdsalkjfsdnfkljdsahfdajskbasdfjkmasdfnljasdncakslcbasdlkasdbkdsj 3</p></div>
</div>

<button style="z-index: 10; margin: 400px 0 10px 10px;" onclick="unflipPage()">Previous</button>
  <button style="z-index: 10; margin: 400px 0 10px 10px;" onclick="flipPage()">Next</button>
  
<script>
    let currentPage = 0;
    const pages = document.querySelectorAll('.page');

    function flipPage() {
    if (currentPage < pages.length) {
        const page = pages[pages.length - currentPage - 1];
        
        const index = currentPage;
        
        page.classList.add('flipped');

        // Delay z-index change until after flip animation
        setTimeout(() => {
        page.style.zIndex = -(pages.length - index); // progressively lower z-index
        }, 500);

        currentPage++;
    }
    }

    function unflipPage() {
    if (currentPage > 0) {
        currentPage--; // move pointer back

        const page = pages[pages.length - currentPage - 1];
        page.style.zIndex = 1;
        page.classList.remove('flipped');
        
    }
    }
</script>

</body>
</html>
